# Truck4u Environment Configuration
# Copy this file to apps/web/.env.local and apps/api/.env.local

# ============================================
# GEOLOCATION SERVICES
# ============================================

# Pelias Geocoding (Address search)
NEXT_PUBLIC_PELIAS_URL=http://localhost:4001
PELIAS_API_KEY=  # Optional, if Pelias is secured

# OSRM Routing (Route calculation)
NEXT_PUBLIC_OSRM_URL=http://localhost:5000
OSRM_PROFILE=car  # car, truck, or foot

# MapLibre Map Style
NEXT_PUBLIC_MAPLIBRE_STYLE=https://demotiles.maplibre.org/style.json
# Or use MapTiler (better for production):
# NEXT_PUBLIC_MAPLIBRE_STYLE=https://api.maptiler.com/maps/streets/style.json?key=YOUR_MAPTILER_KEY

# ============================================
# REDIS CACHE
# ============================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=  # Optional, leave empty if no password
REDIS_DB=0

# Cache TTLs (in seconds)
CACHE_TTL_GEOCODING=3600      # 1 hour
CACHE_TTL_ROUTING=21600       # 6 hours
CACHE_TTL_DRIVER_LOCATION=300 # 5 minutes
CACHE_TTL_PRICE_ESTIMATE=900  # 15 minutes

# ============================================
# APPLICATION URLs
# ============================================
NEXT_PUBLIC_API_URL=http://localhost:4000
NEXT_PUBLIC_SOCKET_URL=http://localhost:4000
NEXT_PUBLIC_WEB_URL=http://localhost:3000

# ============================================
# DATABASE
# ============================================
DATABASE_URL=postgresql://user:password@localhost:5432/truck4u

# ============================================
# JWT & SECURITY
# ============================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d

# ============================================
# FILE UPLOADS
# ============================================
UPLOAD_MAX_SIZE=10485760  # 10MB in bytes
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/webp,application/pdf

# ============================================
# NOTIFICATIONS
# ============================================
# Push Notifications (Optional)
VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=
VAPID_SUBJECT=mailto:support@truck4u.tn

# Email (Optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@truck4u.tn

# ============================================
# PAYMENT GATEWAYS (Optional)
# ============================================
# Flouci
FLOUCI_APP_TOKEN=
FLOUCI_APP_SECRET=
FLOUCI_WEBHOOK_URL=https://yourapp.com/api/webhooks/flouci

# Stripe (if using)
STRIPE_PUBLIC_KEY=
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# ============================================
# MONITORING & LOGGING (Optional)
# ============================================
SENTRY_DSN=
LOG_LEVEL=info  # debug, info, warn, error

# ============================================
# DEVELOPMENT / PRODUCTION
# ============================================
NODE_ENV=development  # development or production
NEXT_PUBLIC_ENV=development

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100  # per window

# ============================================
# SOCKET.IO
# ============================================
SOCKET_CORS_ORIGIN=http://localhost:3000
SOCKET_PING_TIMEOUT=60000
SOCKET_PING_INTERVAL=25000
